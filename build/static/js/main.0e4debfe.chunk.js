(this["webpackJsonpreact-integration-example"]=this["webpackJsonpreact-integration-example"]||[]).push([[0],{394:function(e,t,n){},395:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),i=n(73),a=n.n(i),s=(n(394),n(395),n(15)),r=n.n(s),d=n(70),l=n(12),u=n(5),j=n(157),m=n.n(j),O=n(37),h=n(267),b=n(9);var p=function(e){return Object(b.jsx)("svg",Object(h.a)(Object(h.a)({xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto"},width:38,height:38,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",display:"block"},e),{},{children:Object(b.jsx)("circle",{cx:50,cy:50,fill:"none",stroke:"#fff",strokeWidth:7,r:26,strokeDasharray:"122.52211349000194 42.840704496667314",children:Object(b.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"0.3759398496240602s",values:"0 50 50;360 50 50",keyTimes:"0;1"})})}))},_={"simple-dyte-client":"simpleDyteMeeting","custom-layout-button":"customLayoutButton"},S=function(){var e=Object(o.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(o.useState)([]),a=Object(u.a)(i,2),s=a[0],j=a[1],h=Object(o.useState)(""),S=Object(u.a)(h,2),g=S[0],x=S[1],f=Object(o.useState)("simple-dyte-client"),E=Object(u.a)(f,2),T=E[0],v=E[1],C=Object(O.k)(),R=Object(o.useCallback)((function(e){m()({url:"/meeting",method:"POST",headers:{Accept:"application/json"},data:{title:e}}).then((function(e){var t=Object(l.a)(s);t.push(e.data.data.meeting),j(Object(l.a)(t)),x("")})).catch((function(e){return console.error(e)}))}),[s]),D=function(){var e=Object(d.a)(r.a.mark((function e(t,n){var o,c,i,a,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>2&&void 0!==s[2]&&s[2],e.next=3,m()({url:"/participant",method:"POST",headers:{Accept:"application/json"},data:{isHost:o,meetingId:t}});case 3:c=e.sent,i=c.data.data.authResponse,a=i.authToken,sessionStorage.setItem("auth",a),sessionStorage.setItem("meetingID",t),sessionStorage.setItem("roomName",n),C.push("/".concat(T,"/meeting/").concat(n,"/").concat(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){m()({url:"/meeting",method:"GET"}).then((function(e){j(e.data.data.meetings)})).catch((function(e){return console.error(e)})).finally((function(){return c(!1)}))}),[]),Object(b.jsxs)("div",{className:"main-screen-wrapper",children:[Object(b.jsx)("img",{src:"/logo/dyte_logo_white.svg",alt:"dyte-logo"}),Object(b.jsx)("h1",{children:"Welcome to the example app."}),Object(b.jsxs)("div",{className:"flex row",children:[Object(b.jsx)("input",{type:"text",value:g,placeholder:"New meeting title",onChange:function(e){return x(e.target.value)}}),Object(b.jsx)("button",{className:"margin-left",onClick:function(){return R(g)},children:"Create Room"})]}),Object(b.jsx)("div",{className:"divider"}),Object(b.jsx)("h3",{children:"Choose Example "}),Object(b.jsxs)("select",{onChange:function(e){return v(e.target.value)},children:[Object(b.jsx)("option",{value:"simple-dyte-client",children:"simple-dyte-client"}),Object(b.jsx)("option",{value:"custom-layout-button",children:"custom-layout-button"})]}),Object(b.jsxs)("div",{className:"ex-det",children:[Object(b.jsx)("div",{children:"Check the example component here"}),Object(b.jsx)("br",{}),Object(b.jsxs)("code",{children:["/src/exampleComponent/",_[T]]})]}),Object(b.jsx)("div",{className:"divider"}),Object(b.jsxs)("div",{className:"existing-meeting-wrapper flex column ",children:[Object(b.jsx)("h3",{children:"List of created rooms."}),Object(b.jsx)("h5",{children:"Click to join as new participant or as a host."}),Object(b.jsx)("div",{className:"existing-meeting-list flex row ",children:!n&&s.map((function(e,t){return Object(b.jsxs)("div",{className:"flex column meeting-list-wrapper",children:[Object(b.jsx)("li",{children:e.title},t),Object(b.jsxs)("div",{className:"flex row",children:[Object(b.jsxs)("button",{onClick:function(){return D(e.id,e.roomName,!0)},children:["Join as Host"," "]}),Object(b.jsxs)("button",{className:"margin-left",onClick:function(){return D(e.id,e.roomName)},children:["Join as Participant"," "]})]})]},e.id)}))}),!n&&!s.length&&Object(b.jsxs)("div",{className:"flex no-rooms column",children:[Object(b.jsx)("div",{children:"No existing rooms \ud83d\ude41 !"}),Object(b.jsx)("div",{children:"Create a new room above"})]}),n&&Object(b.jsx)(p,{})]})]})},g=n(145),x=n(211),f=function(){var e=Object(d.a)(r.a.mark((function e(t,n){var o,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"/participant",method:"POST",headers:{Accept:"application/json"},data:{meetingId:t}});case 2:o=e.sent,c=o.data.data.authResponse,i=c.authToken,sessionStorage.setItem("auth",i),sessionStorage.setItem("meetingID",t),sessionStorage.setItem("roomName",n),window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.k)(),t=Object(O.m)(),n=sessionStorage.getItem("auth"),i=sessionStorage.getItem("roomName");return Object(o.useEffect)((function(){n||i||f(t.id,t.room)}),[]),Object(b.jsx)(c.a.Fragment,{children:n&&i&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_ORG_ID&&Object(b.jsx)(x.DyteMeeting,{onInit:function(t){t.on(t.Events.meetingEnded,(function(){sessionStorage.clear(),e.push("/")}))},clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_ORG_ID,meetingConfig:{roomName:i,authToken:n,apiBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_BASE_URL}})})},T=function(){var e=Object(O.k)(),t=Object(O.m)(),n=sessionStorage.getItem("auth"),i=sessionStorage.getItem("roomName");return Object(o.useEffect)((function(){n||i||f(t.id,t.room)}),[]),Object(b.jsx)(c.a.Fragment,{children:n&&i&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_ORG_ID&&Object(b.jsx)(x.DyteMeeting,{onInit:function(t){t.on(t.Events.meetingJoined,(function(){t.controlBar.addButton({icon:Object(b.jsx)("div",{children:"\ud83d\ude00"}),label:"React \ud83d\ude00",position:"center",onClick:function(){alert("Reaction Click")}})})),t.on(t.Events.meetingEnded,(function(){sessionStorage.clear(),e.push("/")}))},clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_ORG_ID,meetingConfig:{roomName:i,authToken:n,apiBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DYTE_BASE_URL,showSetupScreen:!0}})})};var v=function(){return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(g.BrowserRouter,{children:Object(b.jsxs)(O.g,{children:[Object(b.jsx)(O.d,{path:"/",exact:!0,component:S}),Object(b.jsx)(O.d,{path:"/simple-dyte-client/meeting/:room/:id",component:E}),Object(b.jsx)(O.d,{path:"/custom-layout-button/meeting/:room/:id",component:T})]})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,512)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),i(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),C()}},[[493,1,2]]]);
//# sourceMappingURL=main.0e4debfe.chunk.js.map