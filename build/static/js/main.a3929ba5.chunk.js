(this["webpackJsonpreact-integration-example"]=this["webpackJsonpreact-integration-example"]||[]).push([[0],{394:function(e,t,n){},395:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(73),o=n.n(i),s=(n(394),n(395),n(15)),r=n.n(s),l=n(70),u=n(12),d=n(5),m=n(157),j=n.n(m),h=n(37),b=n(267),p=n(9);var g=function(e){return Object(p.jsx)("svg",Object(b.a)(Object(b.a)({xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto"},width:38,height:38,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",display:"block"},e),{},{children:Object(p.jsx)("circle",{cx:50,cy:50,fill:"none",stroke:"#fff",strokeWidth:7,r:26,strokeDasharray:"122.52211349000194 42.840704496667314",children:Object(p.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"0.3759398496240602s",values:"0 50 50;360 50 50",keyTimes:"0;1"})})}))},x={"simple-dyte-client":"simpleDyteMeeting","custom-layout-button":"customLayoutButton"},O=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),o=Object(d.a)(i,2),s=o[0],m=o[1],b=Object(c.useState)(""),O=Object(d.a)(b,2),f=O[0],v=O[1],y=Object(c.useState)("simple-dyte-client"),w=Object(d.a)(y,2),k=w[0],N=w[1],S=Object(h.k)(),C=Object(c.useCallback)((function(e){j()({url:"/meeting",method:"POST",headers:{Accept:"application/json"},data:{title:e}}).then((function(e){var t=Object(u.a)(s);t.push(e.data.data.meeting),m(Object(u.a)(t)),v("")})).catch((function(e){return console.error(e)}))}),[s]),I=function(){var e=Object(l.a)(r.a.mark((function e(t,n){var c,a,i,o,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]&&s[2],e.next=3,j()({url:"/participant",method:"POST",headers:{Accept:"application/json"},data:{isHost:c,meetingId:t}});case 3:a=e.sent,i=a.data.data.authResponse,o=i.authToken,sessionStorage.setItem("auth",o),sessionStorage.setItem("meetingID",t),sessionStorage.setItem("roomName",n),S.push("/".concat(k,"/meeting/").concat(n,"/").concat(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()({url:"/meeting",method:"GET"}).then((function(e){m(e.data.data.meetings)})).catch((function(e){return console.error(e)})).finally((function(){return a(!1)}))}),[]),Object(p.jsxs)("div",{className:"main-screen-wrapper",children:[Object(p.jsx)("img",{src:"/logo/dyte_logo_white.svg",alt:"dyte-logo"}),Object(p.jsx)("h1",{children:"Welcome to the example app."}),Object(p.jsxs)("div",{className:"flex row",children:[Object(p.jsx)("input",{type:"text",value:f,placeholder:"New meeting title",onChange:function(e){return v(e.target.value)}}),Object(p.jsx)("button",{className:"margin-left",onClick:function(){return C(f)},children:"Create Room"})]}),Object(p.jsx)("div",{className:"divider"}),Object(p.jsx)("h3",{children:"Choose Example "}),Object(p.jsxs)("select",{onChange:function(e){return N(e.target.value)},children:[Object(p.jsx)("option",{value:"simple-dyte-client",children:"simple-dyte-client"}),Object(p.jsx)("option",{value:"custom-layout-button",children:"custom-layout-button"})]}),Object(p.jsxs)("div",{className:"ex-det",children:[Object(p.jsx)("div",{children:"Check the example component here"}),Object(p.jsx)("br",{}),Object(p.jsxs)("code",{children:["/src/exampleComponent/",x[k]]})]}),Object(p.jsx)("div",{className:"divider"}),Object(p.jsxs)("div",{className:"existing-meeting-wrapper flex column ",children:[Object(p.jsx)("h3",{children:"List of created rooms."}),Object(p.jsx)("h5",{children:"Click to join as new participant or as a host."}),Object(p.jsx)("div",{className:"existing-meeting-list flex row ",children:!n&&s.map((function(e,t){return Object(p.jsxs)("div",{className:"flex column meeting-list-wrapper",children:[Object(p.jsx)("li",{children:e.title},t),Object(p.jsxs)("div",{className:"flex row",children:[Object(p.jsxs)("button",{onClick:function(){return I(e.id,e.roomName,!0)},children:["Join as Host"," "]}),Object(p.jsxs)("button",{className:"margin-left",onClick:function(){return I(e.id,e.roomName)},children:["Join as Participant"," "]})]})]},e.id)}))}),!n&&!s.length&&Object(p.jsxs)("div",{className:"flex no-rooms column",children:[Object(p.jsx)("div",{children:"No existing rooms \ud83d\ude41 !"}),Object(p.jsx)("div",{children:"Create a new room above"})]}),n&&Object(p.jsx)(g,{})]})]})},f=n(145),v=n(211),y=function(){var e=Object(l.a)(r.a.mark((function e(t,n){var c,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({url:"/participant",method:"POST",headers:{Accept:"application/json"},data:{meetingId:t}});case 2:c=e.sent,a=c.data.data.authResponse,i=a.authToken,sessionStorage.setItem("auth",i),sessionStorage.setItem("meetingID",t),sessionStorage.setItem("roomName",n),window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.k)(),t=Object(h.m)(),n=sessionStorage.getItem("auth"),i=sessionStorage.getItem("roomName");return Object(c.useEffect)((function(){n||i||y(t.id,t.room)}),[]),Object(p.jsx)(a.a.Fragment,{children:n&&i&&Object(p.jsx)(v.DyteMeeting,{onInit:function(t){t.on(t.Events.meetingEnded,(function(){sessionStorage.clear(),e.push("/")}))},clientId:"1edb6c4e-d944-4a52-8ea8-f843c8a4ee0e",meetingConfig:{roomName:i,authToken:n,apiBase:"https://api.cluster.dyte.in"}})})},k=function(){var e=Object(h.k)(),t=Object(h.m)(),n=sessionStorage.getItem("auth"),i=sessionStorage.getItem("roomName");return Object(c.useEffect)((function(){n||i||y(t.id,t.room)}),[]),Object(p.jsx)(a.a.Fragment,{children:n&&i&&Object(p.jsx)(v.DyteMeeting,{onInit:function(t){t.on(t.Events.meetingJoined,(function(){t.controlBar.addButton({icon:Object(p.jsx)("div",{children:"\ud83d\ude00"}),label:"React \ud83d\ude00",position:"center",onClick:function(){alert("Reaction Click")}})})),t.on(t.Events.meetingEnded,(function(){sessionStorage.clear(),e.push("/")}))},clientId:"1edb6c4e-d944-4a52-8ea8-f843c8a4ee0e",meetingConfig:{roomName:i,authToken:n,apiBase:"https://api.cluster.dyte.in",showSetupScreen:!0}})})};var N=function(){return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(f.BrowserRouter,{children:Object(p.jsxs)(h.g,{children:[Object(p.jsx)(h.d,{path:"/",exact:!0,component:O}),Object(p.jsx)(h.d,{path:"/simple-dyte-client/meeting/:room/:id",component:w}),Object(p.jsx)(h.d,{path:"/custom-layout-button/meeting/:room/:id",component:k})]})})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,512)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),S()}},[[493,1,2]]]);
//# sourceMappingURL=main.a3929ba5.chunk.js.map